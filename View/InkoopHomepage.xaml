<Page
    x:Class="BarrocIntens.View.InkoopHomepage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:BarrocIntens.View"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid Background="#FFFDFDFD">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Header -->
            <RowDefinition Height="*"/>
            <!-- Content (2 kolommen) -->
        </Grid.RowDefinitions>

        <!-- =================== HEADER =================== -->
        <Grid Grid.Row="0"
      Background="#FF1A1A1A"
      Padding="20">

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <!-- Rol -->
                <ColumnDefinition Width="*"/>
                <!-- PageTitle -->
                <ColumnDefinition Width="Auto"/>
                <!-- Terug knop -->
            </Grid.ColumnDefinitions>

            <!-- Rol -->
            <TextBlock x:Name="RolTextBlock"
               Grid.Column="0"
               VerticalAlignment="Center"
               FontSize="20"
               FontWeight="SemiBold"
               Foreground="#FFFFD300"
               Text="Rol wordt geladen..." />

            <!-- PageTitle -->
            <TextBlock Grid.Column="1"
               HorizontalAlignment="Center"
               VerticalAlignment="Center"
               FontSize="22"
               FontWeight="SemiBold"
               Foreground="#FFFFD300"
               Text="InkoopHomepage"/>

            <!-- Terug knop -->
            <Button x:Name="backButton"
            Grid.Column="2"
            Content="Terug"
            Click="backButton_Click"
            Padding="12,6"
            Background="#FFFFD300"
            Foreground="#22201D"
            CornerRadius="4"
            FontWeight="Bold"
            BorderThickness="0"
            VerticalAlignment="Center"/>
        </Grid>


        <!-- =================== TWEE kolommen =================== -->
        <Grid Grid.Row="1" Padding="20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="3*"/>
                <!-- Links: overzicht -->
                <ColumnDefinition Width="2*"/>
                <!-- Rechts: toevoegen -->
            </Grid.ColumnDefinitions>

            <!-- ============= LIJST MET APPARATEN (LINKS) ============= -->
            <ScrollViewer Grid.Column="0">
                <StackPanel Spacing="14">

                    <TextBlock Text="Overzicht van alle koffiezetapparaten"
                               FontSize="26"
                               FontWeight="Bold"
                               Foreground="#22201D"
                               TextAlignment="Center"
                               Margin="0,0,0,10"/>

                    <TextBox x:Name="SearchTextBox"
                             Header="Zoeken:"
                             PlaceholderText="Zoek op naam of merk..."
                             TextChanged="SearchTextBox_TextChanged"
                             Width="300"
                             HorizontalAlignment="Center"
                             Margin="0,10,0,20"/>

                    <TextBlock x:Name="GeenApparatenText"
                               Text="Er zijn nog geen apparaten toegevoegd."
                               FontSize="18"
                               Foreground="Gray"
                               TextAlignment="Center"
                               Visibility="Collapsed"/>

                    <ListView x:Name="ApparatenListView"
                              SelectionMode="None"
                              IsItemClickEnabled="False"
                              ScrollViewer.HorizontalScrollBarVisibility="Disabled">

                        <ListView.ItemsPanel>
                            <ItemsPanelTemplate>
                                <ItemsWrapGrid Orientation="Horizontal"
                                               MaximumRowsOrColumns="2"
                                               HorizontalAlignment="Center"/>
                            </ItemsPanelTemplate>
                        </ListView.ItemsPanel>

                        <ListView.ItemTemplate>
                            <DataTemplate x:DataType="models:Koffiezetapparaat"
                                          xmlns:models="using:BarrocIntens.Models">

                                <Border BorderBrush="#FFE0E0E0"
                                        BorderThickness="1"
                                        CornerRadius="10"
                                        Margin="10"
                                        Background="White"
                                        Padding="10"
                                        Width="250">

                                    <StackPanel Spacing="8" HorizontalAlignment="Center">
                                        <Image Width="200"
                                               Height="150"
                                               Stretch="UniformToFill"
                                               Margin="0,0,0,6">
                                            <Image.Source>
                                                <BitmapImage UriSource="{x:Bind VolledigFotoPad, Mode=OneWay}"/>
                                            </Image.Source>
                                        </Image>

                                        <TextBlock Text="{x:Bind Naam}"
                                                   FontSize="18"
                                                   FontWeight="Bold"
                                                   Foreground="#22201D"
                                                   TextAlignment="Center"/>

                                        <TextBlock Text="{x:Bind Merk}"
                                                   FontSize="15"
                                                   Foreground="Gray"
                                                   TextAlignment="Center"/>

                                        <TextBlock Text="Prijs:" FontWeight="SemiBold" TextAlignment="Center" Margin="0,5,0,0"/>
                                        <TextBlock FontSize="15" TextAlignment="Center">
                                            <Run Text="â‚¬ " />
                                            <Run Text="{x:Bind Prijs}" />
                                        </TextBlock>

                                        <TextBlock Text="Voorraad:" 
                                               FontWeight="SemiBold" 
                                               TextAlignment="Center"
                                               Margin="0,5,0,0"/>

                                        <StackPanel Orientation="Horizontal" 
                                                HorizontalAlignment="Center" 
                                                Spacing="6">

                                            <Button Content="-" 
                                                Width="40"
                                                Click="VoorraadMin_Click"
                                                Tag="{x:Bind Id}"/>

                                            <TextBox Width="50"
                                                 Text="{x:Bind Voorraad, Mode=TwoWay}"
                                                 TextAlignment="Center"
                                                 InputScope="Number"
                                                 Tag="{x:Bind Id}"
                                                 LostFocus="VoorraadTextBox_LostFocus"/>

                                            <Button Content="+" 
                                                Width="40"
                                                Click="VoorraadPlus_Click"
                                                Tag="{x:Bind Id}"/>
                                        </StackPanel>

                                    </StackPanel>
                                </Border>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                </StackPanel>
            </ScrollViewer>

            <!-- ============= NIEUW APPARAAT TOEVOEGEN (RECHTS) ============= -->
            <ScrollViewer Grid.Column="1">
                <StackPanel Width="400"
                            HorizontalAlignment="Center"
                            Padding="20"
                            Spacing="14">

                    <Border Background="#FFF9F9F9"
                            BorderBrush="#FFEFEFEF"
                            BorderThickness="1"
                            CornerRadius="10"
                            Padding="30"
                            Margin="0,0,0,30">

                        <StackPanel Spacing="12">

                            <TextBlock Text="Nieuw koffiezetapparaat toevoegen"
                                       FontSize="23"
                                       FontWeight="Bold"
                                       Foreground="#22201D"
                                       TextAlignment="Center"
                                       Margin="0,0,0,20"/>

                            <!-- FOTO SELECTIE -->
                            <StackPanel Spacing="6" HorizontalAlignment="Center">
                                <TextBlock Text="Selecteer een foto"
                                           FontWeight="SemiBold"
                                           Foreground="#22201D"/>

                                <Image x:Name="ApparaatFoto"
                                       Width="300"
                                       Height="200"
                                       Stretch="Uniform"
                                       Margin="0,5,0,5"/>

                                <StackPanel Orientation="Horizontal" Spacing="10">
                                    <Button Content="Vorige" Click="VorigeFoto_Click"/>
                                    <Button Content="Volgende" Click="VolgendeFoto_Click"/>
                                </StackPanel>
                            </StackPanel>

                            <TextBox x:Name="NaamBox"
                                     Header="Naam apparaat"
                                     PlaceholderText="Bijv. Barista Pro"
                                     Background="White"
                                     Foreground="#22201D"
                                     BorderBrush="#FFCCCCCC"
                                     CornerRadius="4"/>

                            <TextBox x:Name="MerkBox"
                                     Header="Merk"
                                     PlaceholderText="Bijv. Philips"
                                     Background="White"
                                     Foreground="#22201D"
                                     BorderBrush="#FFCCCCCC"
                                     CornerRadius="4"/>

                            <TextBox x:Name="VoorraadBox"
                                     Header="Voorraad"
                                     PlaceholderText="Bijv. 10"
                                     Background="White"
                                     Foreground="#22201D"
                                     BorderBrush="#FFCCCCCC"
                                     CornerRadius="4"/>

                            <Button Content="Opslaan"
                                    Click="Opslaan_Click"
                                    HorizontalAlignment="Center"
                                    Padding="14,8"
                                    Background="#FFFFD300"
                                    Foreground="#22201D"
                                    FontWeight="Bold"
                                    CornerRadius="6"
                                    BorderThickness="0"
                                    Width="150"/>

                            <TextBlock x:Name="FeedbackText"
                                       Foreground="#22201D"
                                       Visibility="Collapsed"
                                       FontWeight="SemiBold"
                                       TextAlignment="Center"
                                       Margin="0,10,0,0"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>
        </Grid>
    </Grid>
</Page>
